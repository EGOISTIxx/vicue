(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{709:function(a,b,c){"use strict";c.d(b,{A:function(){return w}});var d=c(9499),e=c(4730);c(7294);var f=c(2125),g=f.ZP.div.withConfig({displayName:"SLayout__MainLayout",componentId:"sc-1vw5c8k-0"})(["padding:2rem;min-height:100vh;"]),h=f.ZP.div.withConfig({displayName:"SHeader__HeaderWrapper",componentId:"sc-oob6j5-0"})(["padding:1rem 1rem 1rem 0;"]),i=c(1664),j=c.n(i),k=c(1163),l=c(5114),m=(0,f.ZP)(l.Z).withConfig({displayName:"SBreadcrumb__StyledBreadcrumb",componentId:"sc-1k3mn5c-0"})(["margin:1.5rem 0;"]),n=c(5893),o=function(a){var b=a.breadcrumb;return(0,k.useRouter)(),(0,n.jsxs)(m,{children:[(0,n.jsx)(m.Item,{children:(0,n.jsx)(j(),{href:"/",children:"Главная "})}),null==b?void 0:b.map(function(a){var b=a.href,c=a.title;return(0,n.jsx)(m.Item,{children:b?(0,n.jsx)(j(),{href:b,children:c}):c},"".concat(c,":").concat(b))})]})},p=c(4731),q=p.Z.Search,r=(0,f.ZP)(q).withConfig({displayName:"SSearch__StyledSearch",componentId:"sc-2ch7jo-0"})(["width:100%;"]),s=function(a){var b=a.handleSearch;return(0,n.jsx)(r,{placeholder:"Введите название пива",size:"large",enterButton:"Найти",onSearch:b})},t=function(a){var b=a.breadcrumb,c=a.isHiddenSearch,d=a.handleSearch;return(0,n.jsxs)(h,{children:[!c&&(0,n.jsx)(s,{handleSearch:d}),(0,n.jsx)(o,{breadcrumb:b})]})},u=["children"];function v(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}var w=function(a){var b=a.children,c=(0,e.Z)(a,u);return(0,n.jsxs)(g,{children:[(0,n.jsx)(t,function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?v(Object(c),!0).forEach(function(b){(0,d.Z)(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):v(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}({isHiddenSearch:!1},c)),b]})}},8355:function(a,b,c){"use strict";c.r(b),c.d(b,{default:function(){return B}});var d=c(7294),e=c(709),f=c(6687),g=c(9669),h=c.n(g),i=function(a,b){var c=(0,d.useState)(!0),e=c[0],g=c[1],i=(0,d.useState)(!1),j=i[0],k=i[1],l=(0,d.useState)([]),m=l[0],n=l[1],o=(0,d.useState)(!1),p=o[0],q=o[1];return(0,d.useEffect)(function(){n([])},[a]),(0,d.useEffect)(function(){var c;return g(!0),k(!1),h().get("".concat("https://api.punkapi.com/v2","/beers"),{params:a.length?{page:b,per_page:10,beer_name:a}:{page:b,per_page:10},cancelToken:new(h()).CancelToken(function(a){return c=a})}).then(function(a){n(function(b){return[].concat((0,f.Z)(b),(0,f.Z)(a.data))}),q(!!a.data.length),g(!1)}).catch(function(a){h().isCancel(a)||k(!0)}),function(){return c()}},[b,a]),{loading:e,error:j,beers:m,hasMore:p}},j=c(1664),k=c.n(j),l=c(2125),m=l.ZP.div.withConfig({displayName:"SBeerCard__BeerCardWrapper",componentId:"sc-sb43w9-0"})(["padding:2rem;border:1.5px solid #f3f4f6;display:flex;column-gap:2.5rem;margin-bottom:3rem;border-radius:3px;background:#111827;&:last-child{margin-bottom:5rem;}"]),n=l.ZP.div.withConfig({displayName:"SBeerCard__ImageWrapper",componentId:"sc-sb43w9-1"})(["width:150px;height:300px;& > *{width:150px !important;height:300px !important;}"]),o=l.ZP.div.withConfig({displayName:"SBeerCard__EmptyImage",componentId:"sc-sb43w9-2"})(["width:100%;height:100%;display:flex;align-items:center;justify-content:center;background:#6b7280;"]),p=l.ZP.div.withConfig({displayName:"SBeerCard__MainInfoWrapper",componentId:"sc-sb43w9-3"})(["display:flex;flex-direction:column;row-gap:2.5rem;"]),q=l.ZP.h1.withConfig({displayName:"SBeerCard__InfoTitle",componentId:"sc-sb43w9-4"})(["color:#ffffff;font-weight:500;text-transform:uppercase;"]),r=l.ZP.span.withConfig({displayName:"SBeerCard__InfoDescription",componentId:"sc-sb43w9-5"})(["color:#ffffff;font-size:1rem;"]),s=c(5675),t=c.n(s),u=function(a){var b=arguments.length>1&& void 0!==arguments[1]?arguments[1]:140;return a.length>b?a.slice(0,b-1)+"...":a},v=c(5893),w=function(a){var b=a.id,c=a.name,d=a.elemRef,e=a.image,f=a.description;return(0,v.jsxs)(m,{ref:d,children:[(0,v.jsx)(n,{children:null!==e?(0,v.jsx)(t(),{src:e,alt:c,width:150,height:300}):(0,v.jsx)(o,{children:"Empty image"})}),(0,v.jsxs)(p,{children:[(0,v.jsx)(q,{children:c}),(0,v.jsx)(r,{children:u(f)}),(0,v.jsx)(k(),{href:"/".concat(c,"/").concat(b),children:"Перейти на страницу товара"})]})]})},x=l.ZP.div.withConfig({displayName:"SCatalog__CatalogWrapper",componentId:"sc-1a8e8ik-0"})(["height:calc(100vh - 142px - 4rem);width:100%;overflow:auto;"]),y=function(a){var b=a.pageNumber,c=a.setPageNumber,e=a.query,f=(0,d.useRef)(),g=i(e,b),h=g.beers,j=g.error,k=g.hasMore,l=g.loading,m=(0,d.useCallback)(function(a){!l&&(f.current&&f.current.disconnect(),f.current=new IntersectionObserver(function(a){a[0].isIntersecting&&k&&c(function(a){return a+1})}),a&&f.current.observe(a))},[k,l,c]);return(0,v.jsx)(x,{children:(0,v.jsxs)("div",{children:[h.map(function(a,b){return h.length===b+1?(0,v.jsx)(w,{elemRef:m,id:a.id,name:a.name,image:a.image_url,description:a.description},a.id):(0,v.jsx)(w,{id:a.id,name:a.name,image:a.image_url,description:a.description},a.id)}),(0,v.jsx)("div",{children:l&&"Loading..."}),(0,v.jsx)("div",{children:j&&"Error"})]})})},z=(0,d.memo)(y),A=function(){var a=(0,d.useState)(""),b=a[0],c=a[1],f=(0,d.useState)(1),g=f[0],h=f[1],i=(0,d.useCallback)(function(a){c(a),h(1)},[]);return(0,v.jsx)(e.A,{isHiddenSearch:!1,handleSearch:i,children:(0,v.jsx)(z,{pageNumber:g,query:b,setPageNumber:h})})},B=A},8312:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return c(8355)}])}},function(a){a.O(0,[767,84,774,888,179],function(){var b;return a(a.s=8312)}),_N_E=a.O()}])